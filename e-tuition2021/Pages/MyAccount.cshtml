@page
@model e_tuition2021.Pages.MyAccountModel

<div class="has-bg-image">
    <img src="~/images/E-tuition Logo.jpg"
         class="bg-image float-right"
         style="width:200px"
         alt="Logo" />
</div>

<header class="jumbotron">
    <h1>@Model.Person.GetFullName() Account</h1>
</header>

<div>
    <h2>Personal Details</h2>
    <hr />
    <partial name="People/_PersonView" model="Model.Person" />
</div>
<div>
    <a class="btn btn-success" asp-page="People/Edit"
       asp-route-id="@Model.Person.PersonId">
        Edit
    </a>
</div>
<br />
<div>
    <h4>Address Details</h4>
    <hr />
    @if (Model.Person.Address == null)
    {
        <div>
            <a class="btn btn-primary" asp-page="Addresses/Create"
               asp-route-id="@Model.Person.PersonId">
                Add Address
            </a>
        </div>
    }
    else
    {
        <dl class="row">
            <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.Person.Address.HouseNumber)
            </dt>
            <dd class="col-sm-10">
                @Html.DisplayFor(model => model.Person.Address.HouseNumber)
            </dd>
            <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.Person.Address.PostCode)
            </dt>
            <dd class="col-sm-10">
                @Html.DisplayFor(model => model.Person.Address.PostCode)
            </dd>
        </dl>

        <div>
            <a class="btn btn-success" asp-page="Addresses/Edit" asp-route-id="@Model.Person.Address.Id">Edit</a>
        </div>
    }

</div>
<br />
<div>
    <h4>Payment Details</h4>
    <hr />
    @if (Model.Person.PaymentCard == null)
    {
        <div>
            <a class="btn btn-primary" asp-page="PaymentCards/Create"
               asp-route-id="@Model.Person.PersonId">
                Add PaymentCard
            </a>
        </div> }
    else
    {
        <dl class="row">
            <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.Person.PaymentCard.CardNumber)
            </dt>
            <dd class="col-sm-10">
                @Html.DisplayFor(model => model.Person.PaymentCard.CardNumber)
            </dd>
            <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.Person.PaymentCard.ExpiryMonth)
            </dt>
            <dd class="col-sm-10">
                @Html.DisplayFor(model => model.Person.PaymentCard.ExpiryMonth)
            </dd>
            <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.Person.PaymentCard.ExpiryYear)
            </dt>
            <dd class="col-sm-10">
                @Html.DisplayFor(model => model.Person.PaymentCard.ExpiryYear)
            </dd>
            <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.Person.PaymentCard.SortCode)
            </dt>
            <dd class="col-sm-10">
                @Html.DisplayFor(model => model.Person.PaymentCard.SortCode)
            </dd>
        </dl>

        <div>
            <a class="btn btn-success" asp-page="PaymentCards/Edit" asp-route-id="@Model.Person.PaymentCard.Id">Edit</a>
        </div>}

</div>