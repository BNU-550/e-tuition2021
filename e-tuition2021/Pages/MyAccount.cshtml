@page
@model e_tuition2021.Pages.MyAccountModel

<header class="jumbotron">
    <h1>@Model.Person.GetFullName() Account</h1>
</header>

<div>
    <h2>Personal Details</h2>
    <hr />
    <partial name="People/_PersonView" model="Model.Person" />
</div>
<div>
    <a class="btn btn-success" asp-page="People/Edit" 
        asp-route-id="@Model.Person.PersonId">
        Edit
    </a>
</div>
<br/>
<div>
    <h4>Address Details</h4>
    <hr />
    @if(Model.Person.Address == null)
    {
        <div>
            <a class="btn btn-primary" asp-page="Addresses/Create" 
                asp-route-id="@Model.Person.PersonId">
                Add Address
            </a>
        </div>          
    }
    else
    {
        <dl class="row">
            <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.Person.Address.HouseNumber)
            </dt>
            <dd class="col-sm-10">
                @Html.DisplayFor(model => model.Person.Address.HouseNumber)
            </dd>
            <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.Person.Address.PostCode)
            </dt>
            <dd class="col-sm-10">
                @Html.DisplayFor(model => model.Person.Address.PostCode)
            </dd>
        </dl> 

        <div>
            <a class="btn btn-primary" asp-page="Addresses/Edit" asp-route-id="@Model.Person.Address.Id">Edit</a> |
        </div>        
    }

</div>
